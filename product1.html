<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Details</title>

<style>
body { font-family: Arial; background: #f5f5f5; }
.container {
  max-width: 1000px;
  margin: 40px auto;
  background: #fff;
  display: flex;
  padding: 20px;
  gap: 30px;
  border-radius: 10px;
}
.left img { width: 400px; border-radius: 10px; }
.price { color: green; font-size: 22px; }
button {
  background: tomato;
  color: white;
  border: none;
  padding: 12px 20px;
  cursor: pointer;
}
</style>
</head>

<body>

<div class="container">
  <div class="left">
    <img id="img">
  </div>

  <div class="right">
    <h1 id="name"></h1>
    <p class="price">â‚¹ <span id="price"></span></p>
    <p id="desc"></p>
    <button>Add to Cart</button>
  </div>
</div>

<script type="module">
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";

const firebaseConfig = {
  apiKey: "AIzaSyBygmGdoGl_LBhJwYVapD1m0bW46Fvjrv4",
  authDomain: "megamart-7f2e4.firebaseapp.com",
  projectId: "megamart-7f2e4",
  storageBucket: "megamart-7f2e4.firebasestorage.app",
  messagingSenderId: "633085427770",
  appId: "1:633085427770:web:47e4c208014cc00f983503"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const id = new URLSearchParams(window.location.search).get("id");

const docRef = doc(db, "products", id);
const docSnap = await getDoc(docRef);

if (docSnap.exists()) {
  const data = docSnap.data();
  document.getElementById("name").innerText = data.name;
  document.getElementById("price").innerText = data.price;
  document.getElementById("desc").innerText = data.description;
  document.getElementById("img").src = data.image;
}
</script>

</body>
</html>
